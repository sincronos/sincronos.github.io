<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Comanda eletrônica - instalação e uso | </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="INSTALAÇÃO1. API/Servidor Baixar e instalar a Docker https://docs.docker.com/install/   Abrir o Power Shell e colocar o seguinte comando: docker run --name apitetra -e BD_NAME=&amp;#39;nome-do-banco&amp;#39;">
<meta name="keywords" content="Comanda">
<meta property="og:type" content="article">
<meta property="og:title" content="Comanda eletrônica - instalação e uso">
<meta property="og:url" content="http://sincronos.github.io/2020/04/30/Comanda/index.html">
<meta property="og:site_name">
<meta property="og:description" content="INSTALAÇÃO1. API/Servidor Baixar e instalar a Docker https://docs.docker.com/install/   Abrir o Power Shell e colocar o seguinte comando: docker run --name apitetra -e BD_NAME=&amp;#39;nome-do-banco&amp;#39;">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2021-02-24T19:46:43.224Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Comanda eletrônica - instalação e uso">
<meta name="twitter:description" content="INSTALAÇÃO1. API/Servidor Baixar e instalar a Docker https://docs.docker.com/install/   Abrir o Power Shell e colocar o seguinte comando: docker run --name apitetra -e BD_NAME=&amp;#39;nome-do-banco&amp;#39;">
  
    <link rel="alternate" href="/atom.xml" title type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo"></a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://sincronos.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Comanda" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/30/Comanda/" class="article-date">
  <time datetime="2020-04-30T17:42:00.000Z" itemprop="datePublished">2020-04-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Comanda eletrônica - instalação e uso
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="INSTALACAO"><a href="#INSTALACAO" class="headerlink" title="INSTALAÇÃO"></a>INSTALAÇÃO</h1><h2 id="1-API-Servidor"><a href="#1-API-Servidor" class="headerlink" title="1. API/Servidor"></a>1. API/Servidor</h2><ul>
<li><strong>Baixar e instalar a Docker</strong><ul>
<li><a href="https://docs.docker.com/install/" target="_blank" rel="noopener">https://docs.docker.com/install/</a></li>
</ul>
</li>
<li><strong>Abrir o Power Shell e colocar o seguinte comando:</strong><ul>
<li><code>docker run --name apitetra -e BD_NAME=&#39;nome-do-banco&#39; -e BD_PASS=&#39;ACESSO&#39; -e BD_HOST=&#39;127.0.0.1&#39; -e BD_USER=&#39;sa&#39; -e BD_FILIAL=&#39;1&#39; -p 8080:8080 --restart=always -d sandersoncorrea/tetra-foods-api</code></li>
<li>Esse comando baixa e instala a API que vai acessar o banco de dados na máquina.</li>
<li>Preencha os campos com as informações do banco que deseja usar. (Ex.: <code>BD_NAME=&#39;PADARIA&#39;</code>, <code>BD_PASS=&#39;ACESSO&#39;</code>, etc).</li>
<li>Os campos de devem estar entre aspas simples.</li>
<li>A api será instalada na porta que você definir. Por exemplo, se colocar <code>9090:8080</code> a API será acessada pela porta <code>9090</code>, mas o padrão é repetir o segundo número ficando <code>8080:8080</code> como na linha de comando acima. O número antes dos dois ponto (:) pode ser alterada, mas JAMAIS altera o numero depois dos dois pontos, deverá ser sempre <code>8080</code>.</li>
<li>O nome fica a escolha do agente que vai instalar, mas para manter o padrão, coloque <code>apitetra</code>. Caso vá instalar dois ou mais, coloque sufixos faceis de ser identificados.</li>
<li>A tag <code>--restart=always</code> é para que o servidor inicie junto com o Windows sempre.</li>
</ul>
</li>
<li><strong>Após o término das instalação, verifique se está rodando com</strong><ul>
<li>docker ps (no power shell)</li>
<li>Vai aparecer uma lista das dockers que estão execução. Verifique a coluna <code>status</code>.</li>
<li>Para testar, abra um navegador e entre em <code>localhost:8080</code> (com a porta que foi configurada), vai aparecer as configurações que o usuário escolheu na instalação indicando que a instalação foi bem sucedida.</li>
</ul>
</li>
</ul>
<h2 id="2-Mobile"><a href="#2-Mobile" class="headerlink" title="2. Mobile"></a>2. Mobile</h2><ul>
<li>Baixe o aplicativo em <code>https://bit.ly/app-tetra-comanda</code> e instale em um aparelho Android. As atualizações serão sempre mantidas nesse link.</li>
<li>Abra o aplicativo e vá em configurações (ícone no lado superior direito da tela de Login).</li>
<li>Preencha o campo com <code>HOST:PORTA</code>. O host é o IP da máquina na rede e a porta é a escolhida durante a instalação. Ex.: <code>10.0.0.140:8080</code>.</li>
<li>Para testar se este é realmente o IP correto, abra-o no seu navegador do celular, se abrir e mostrar as informações que foram configuradas está correta, se demorar ou não abrir pode ser que esteja errado.</li>
<li>Salve e o aplicativo está pronto para ser usado.</li>
<li>Verifique se seu banco está atualizado pois alguns campos foram adicionados especificamente para esta aplicação. Foi alterada somente a tabela <code>USUARIO</code> com os campos novos <code>SENHA_COMANDAELETRONICA (varchar(30), null)</code> ; <code>USERNAME (varchar(30), null)</code> ; <code>COMANDAELETRONICA (char(1), null)</code>.</li>
</ul>
<h2 id="3-Usando-a-aplicacao"><a href="#3-Usando-a-aplicacao" class="headerlink" title="3. Usando a aplicação"></a>3. Usando a aplicação</h2><ul>
<li>Faça o login com as credenciais cadastradas no SG nos campos novos da tabela <code>USUARIO</code>. O usuário só conseguirá acesso se colocar o username e senha corretos e se estiver habilitado a ter acesso <code>(COMANDAELETRONICA == 1)</code></li>
<li>O aplicativo é para auxiliar nos pedidos de pré-venda</li>
<li>Todos os pedidos serão salvos na tabela DAVPRE</li>
<li>A entrada são de dois modos, ou inicia uma comanda/pré venda ou abre uma que já exista.</li>
<li>Se for abrir uma nova o número vai iniciar com 0 e na primeira vez que salvar o aplicativo vai voltar a tela inicial já com o numero novo.</li>
<li>Se abrir uma comanda já existente, vai adicionar novos produtos.</li>
<li>A tela de produtos disponíveis somente mostrarão os produtos com <code>situação A</code> e <code>marcados para WEB (prodweb = 1)</code></li>
</ul>
<h2 id="4-O-que-muda-no-SG"><a href="#4-O-que-muda-no-SG" class="headerlink" title="4. O que muda no SG"></a>4. O que muda no SG</h2><ul>
<li>A base de dados conta com 3 campos novos na tabela USUARIO, são eles - <code>SENHA_COMANDAELETRONICA (varchar(30), null)</code> ; <code>USERNAME (varchar(30), null)</code> ; <code>COMANDAELETRONICA (char(1), null)</code>;</li>
<li>Esses campos devem ser preenchidos dentro do SG e será usado para autenticação no Mobile e na API</li>
<li>O APP também usa as tabela DavPre, DavPreItem, DavPreItemExcecao, Grupo, Subgrupo, SubgrupoExececao, UltReg.</li>
</ul>
<h2 id="5-Escalabilidade"><a href="#5-Escalabilidade" class="headerlink" title="5. Escalabilidade"></a>5. Escalabilidade</h2><ul>
<li>A API foi pensando em um modo que seja facilmente escalável. O uso da Docker facilita pois é possível montar quantos servidores quiser, desde que a máquina aguente, com variados bancos e variadas filiais.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://sincronos.github.io/2020/04/30/Comanda/" data-id="ckmy23sp7000aq2i0q93w3kp3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Comanda/">Comanda</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/08/08/Como-tributar/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Serviço - Como tributar
        
      </div>
    </a>
  
  
    <a href="/2020/02/03/conciliador-cartao/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">CONCILIADOR de cartão</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AlertaFiscal/">AlertaFiscal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Comanda/">Comanda</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tetra-ComoTributar-ServicoTetra/">Tetra;ComoTributar;ServicoTetra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TetraSonar/">TetraSonar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fiscal/">fiscal</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AlertaFiscal/" style="font-size: 10px;">AlertaFiscal</a> <a href="/tags/Comanda/" style="font-size: 10px;">Comanda</a> <a href="/tags/Tetra-ComoTributar-ServicoTetra/" style="font-size: 10px;">Tetra;ComoTributar;ServicoTetra</a> <a href="/tags/TetraSonar/" style="font-size: 10px;">TetraSonar</a> <a href="/tags/fiscal/" style="font-size: 10px;">fiscal</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/03/31/Acerto/">Acerto Fiscal - Integração</a>
          </li>
        
          <li>
            <a href="/2021/03/31/GestaoSoftware/">Gestao de Software - Tetra</a>
          </li>
        
          <li>
            <a href="/2021/02/24/Audittar/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/02/19/Scantech/">SCANTECH</a>
          </li>
        
          <li>
            <a href="/2020/11/03/Clubiz/">CLUBIZ</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Carlos Viana<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>